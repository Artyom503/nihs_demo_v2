(this.webpackJsonpdltx=this.webpackJsonpdltx||[]).push([[0],{141:function(e,t,c){},142:function(e,t,c){},177:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),s=c.n(a),r=c(41),i=c.n(r),o=(c(141),c(142),c(95),c(114)),d=c(115),j=c(126),l=c(124),b=c(116),h=c(24),O=c(117),u=c.n(O),x=c(10),p=function(e){var t=e.connecting,c=e.qrCode;return Object(n.jsxs)("div",{className:"App px-16",children:[Object(n.jsx)("div",{className:"font-bold text-3xl py-4 text-left",children:Object(n.jsx)("h1",{children:"Register a new account"})}),Object(n.jsxs)("div",{className:"grid grid-cols-2 w-full text-left",children:[Object(n.jsxs)("div",{className:"card mr-4",children:[Object(n.jsx)("div",{className:"card-header",children:"Legacy Way"}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group pb-4",children:[Object(n.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(n.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"user@niche.id"})]}),Object(n.jsxs)("div",{className:"form-group pb-4",children:[Object(n.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"})]})})]}),Object(n.jsxs)("div",{className:"card ml-4",children:[Object(n.jsx)("div",{className:"card-header",children:"Niche QR Code authorization"}),Object(n.jsx)("div",{className:"card-body grid place-items-center",children:t?Object(n.jsx)("div",{children:" Connecting "}):Object(n.jsx)(u.a,{size:150,value:c})}),Object(n.jsxs)("div",{children:["QR Code lists the claims for the user: ",c]})]})]})]})},m=function(e){var t=e.websocket,c=Object(a.useState)({email:"",name:"",DoB:""}),s=Object(h.a)(c,2),r=s[0],i=s[1],o=Object(a.useState)(void 0),d=Object(h.a)(o,2),j=d[0],l=d[1],b=Object(a.useState)(!0),O=Object(h.a)(b,2),u=O[0],m=O[1];t.onmessage=function(e){try{var t=JSON.parse(e.data);t.id?(l(t.id),m(!1)):i(t)}catch(c){console.log(c)}};var v="".concat("http://nihsdemo.herokuapp.com","/auth?id=").concat(j);return""===r.email&&""===r.name&&""===r.DoB?p({connecting:u,qrCode:v}):Object(n.jsx)(x.a,{to:"/voting"})},v=new b.w3cwebsocket("ws://nihsdemo.herokuapp.com"),f="testUser",g=function(e){Object(j.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).logInUser=function(){v.send("test")},e.onEditorStateChange=function(e){v.send(JSON.stringify({type:"contentchange",username:f,content:e}))},e}return Object(d.a)(c,[{key:"componentDidMount",value:function(){v.onopen=function(){console.log("WebSocket Client Connected")},v.onClose=function(){console.log("closed websocket")}}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(m,{websocket:v})})}}]),c}(a.Component),w=c(120),y=c.n(w),k=c(189),C=c(191),N=c(193),S=c(125),I=c(194),A=c(190),D=c(195),E=c(56),P=(c(156),c(121)),R=c.n(P),L=[{id:1,avatar:"https://www.indiewire.com/wp-content/uploads/2020/12/aragorn.jpg",date:"Isildur's heir",header:"Aragorn",description:"I will make the MiddleEarth great again"},{id:2,avatar:"https://static1.cbrimages.com/wordpress/wp-content/uploads/2021/09/Denethor-in-LOTR.jpg",date:"Viceroy of Gondor",header:"Denethor",description:"Gondor has no King. Gondor needs no King."}],z=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),c=t[0],s=(t[1],Object(a.useState)(0)),r=Object(h.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(0),j=Object(h.a)(d,2),l=j[0],b=j[1],O=Object(a.useState)(!1),u=Object(h.a)(O,2),x=u[0],p=u[1],m=Object(a.useState)(!1),v=Object(h.a)(m,2),f=v[0],g=v[1],w=Object(a.useState)(!1),P=Object(h.a)(w,2),z=P[0],B=P[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[i," - ",l]}),Object(n.jsx)(k.a,{}),Object(n.jsx)(C.a.Group,{doubling:!0,itemsPerRow:3,stackable:!0,children:y.a.map(L,(function(e){return Object(n.jsxs)(C.a,{children:[c?Object(n.jsx)(N.a,{children:Object(n.jsx)(N.a.Image,{square:!0})}):Object(n.jsx)(S.a,{src:e.avatar}),Object(n.jsx)(C.a.Content,{children:c?Object(n.jsxs)(N.a,{children:[Object(n.jsxs)(N.a.Header,{children:[Object(n.jsx)(N.a.Line,{length:"very short"}),Object(n.jsx)(N.a.Line,{length:"medium"})]}),Object(n.jsx)(N.a.Paragraph,{children:Object(n.jsx)(N.a.Line,{length:"short"})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(C.a.Header,{children:e.header}),Object(n.jsx)(C.a.Meta,{children:e.date}),Object(n.jsx)(C.a.Description,{children:e.description})]})}),Object(n.jsxs)(C.a.Content,{extra:!0,children:[Object(n.jsx)(I.a,{disabled:x,onClick:function(){return[1===e.id?o(i+1):b(l+1),p(!0),g(!0)]},primary:!0,children:"Vote"}),Object(n.jsx)(I.a,{disabled:1===e.id&&i<=0||2===e.id&&l<=0,onClick:function(){return[1===e.id?o(i-1):b(l-1),p(!1)]},children:"Unvote"})]})]},e.header)}))}),Object(n.jsxs)(A.a,{basic:!0,onClose:function(){return g(!1)},onOpen:function(){return g(!0)},open:f,size:"small",children:[Object(n.jsxs)(D.a,{icon:!0,children:[Object(n.jsx)(E.a,{name:"archive"}),"You are about to vote for this party"]}),Object(n.jsx)(A.a.Content,{children:Object(n.jsx)("p",{children:"Are you sure this party is the best one?"})}),Object(n.jsxs)(A.a.Actions,{children:[Object(n.jsxs)(I.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return g(!1)},children:[Object(n.jsx)(E.a,{name:"remove"})," No"]}),Object(n.jsxs)(I.a,{color:"green",inverted:!0,onClick:function(){return[g(!1),void R.a.post("https://5fa5e7ad085bf700163de0f9.mockapi.io/vote",{partyA:i,partyB:l}).then((function(e){console.log(e)}),(function(e){console.log(e)})),B(!0)]},children:[Object(n.jsx)(E.a,{name:"checkmark"})," Yes"]})]})]}),Object(n.jsx)(A.a,{basic:!0,onClose:function(){return B(!1)},onOpen:function(){return B(!0)},open:z,size:"small",children:Object(n.jsxs)(D.a,{icon:!0,children:[Object(n.jsx)(E.a,{name:"archive"}),"You have voted!"]})})]})},B=c(63);var F=function(){return Object(n.jsx)(B.a,{children:Object(n.jsxs)(x.d,{children:[Object(n.jsx)(x.b,{exact:!0,path:"/",component:g}),Object(n.jsx)(x.b,{exact:!0,path:"/voting",component:z})]})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.6d61a200.chunk.js.map